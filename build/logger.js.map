{"version":3,"sources":["../src/logger.js"],"names":["fs","require","path","winston","WinstonRotateFile","logDirectory","logFilename","resolve","timestampFormat","Date","toLocaleTimeString","prettyprintFormat","obj","JSON","stringify","existsSync","mkdirSync","logger","Logger","transports","Console","timestamp","colorize","level","prettyPrint","filename","datePattern","prepend","json","prettyprint","stream","write","message","encoding","info","module","exports"],"mappings":"cAAA;AACA,MAAMA,KAAKC,QAAQ,IAAR,CAAX;AACA,MAAMC,OAAOD,QAAQ,MAAR,CAAb;AACA,MAAME,UAAUF,QAAQ,SAAR,CAAhB;AACA,MAAMG,oBAAoBH,QAAQ,2BAAR,CAA1B;;AAEA,MAAMI,eAAe,SAArB;AACA,MAAMC,cAAcJ,KAAKK,OAAL,CAAaF,YAAb,EAA4B,GAAEA,YAAa,eAA3C,CAApB;AACA,MAAMG,kBAAkB,MAAM,IAAIC,IAAJ,GAAWC,kBAAX,EAA9B;AACA,MAAMC,oBAAoBC,OAAOC,KAAKC,SAAL,CAAeF,GAAf,EAAoB,IAApB,EAA0B,CAA1B,CAAjC;;AAEA,IAAI,CAACZ,GAAGe,UAAH,CAAcV,YAAd,CAAL,EAAkC;AAChCL,KAAGgB,SAAH,CAAaX,YAAb;AACD;;AAED,MAAMY,SAAS,IAAId,QAAQe,MAAZ,CAAmB;AAChCC,cAAY;AACV,MAAIhB,QAAQgB,UAAR,CAAmBC,OAAvB,CAA+B;AAC7BC,eAAWb,eADkB;AAE7Bc,cAAU,IAFmB;AAG7BC,WAAO,OAHsB;AAI7BC,iBAAab,iBAJgB,EAA/B,CADU;;AAOV,MAAIP,iBAAJ,CAAsB;AACpBqB,cAAUnB,WADU;AAEpBe,eAAWb,eAFS;AAGpBkB,iBAAa,YAHO;AAIpBC,aAAS,IAJW;AAKpBJ,WAAO,MALa;AAMpBK,UAAM,KANc;AAOpBC,iBAAalB,iBAPO,EAAtB,CAPU,CADoB,EAAnB,CAAf;;;;;AAoBAM,OAAOa,MAAP,GAAgB;AACd;AACAC,SAAO,CAACC,OAAD,EAAUC,QAAV,KAAuB;AAC5BhB,WAAOiB,IAAP,CAAYF,OAAZ;AACD,GAJa,EAAhB;;;AAOAG,OAAOC,OAAP,GAAiBnB,MAAjB","file":"logger.js","sourcesContent":["// eslint-disable global-require\nconst fs = require('fs');\nconst path = require('path');\nconst winston = require('winston');\nconst WinstonRotateFile = require('winston-daily-rotate-file');\n\nconst logDirectory = '../logs';\nconst logFilename = path.resolve(logDirectory, `${logDirectory}/-logfile.log`);\nconst timestampFormat = () => new Date().toLocaleTimeString();\nconst prettyprintFormat = obj => JSON.stringify(obj, null, 2);\n\nif (!fs.existsSync(logDirectory)) {\n  fs.mkdirSync(logDirectory);\n}\n\nconst logger = new winston.Logger({\n  transports: [\n    new winston.transports.Console({\n      timestamp: timestampFormat,\n      colorize: true,\n      level: 'debug',\n      prettyPrint: prettyprintFormat,\n    }),\n    new WinstonRotateFile({\n      filename: logFilename,\n      timestamp: timestampFormat,\n      datePattern: 'yyyy-MM-dd',\n      prepend: true,\n      level: 'info',\n      json: false,\n      prettyprint: prettyprintFormat,\n    }),\n  ],\n});\n\nlogger.stream = {\n  /* eslint-disable no-unused-vars */\n  write: (message, encoding) => {\n    logger.info(message);\n  },\n};\n\nmodule.exports = logger;\n"]}